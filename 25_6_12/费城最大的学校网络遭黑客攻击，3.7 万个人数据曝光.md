 # Salesforce行业云面临多重安全风险：配置缺陷可能导致数据泄露

## 一、事件概要

近期，网络安全研究人员发现Salesforce行业云(Salesforce Industries)存在20多项配置相关风险，这些安全缺陷可能导致未经授权的内外部人员获取敏感数据。问题涉及FlexCards、数据映射器、集成程序等多个组件，已有部分漏洞获得CVE编号。虽然Salesforce已修复部分问题并发布配置指南，但仍有16项缺陷需要客户自行修复，给企业信息安全带来严峻挑战。

## 二、事件详细分析

### 1. 安全漏洞概况

AppOmni SaaS安全研究团队发现的这些配置问题主要影响Salesforce行业云的多个核心组件，包括：
- FlexCards
- 数据映射器
- 集成程序(IProcs)
- 数据包
- OmniOut
- OmniScript会话存储

AppOmni SaaS安全研究主管Aaron Costello指出："Salesforce行业云等低代码平台虽简化了应用构建流程，但若忽视安全则可能付出代价。"这一观点揭示了低代码开发平台在便利性与安全性之间的潜在矛盾。

### 2. 主要漏洞分析

已获得CVE编号的五项主要漏洞包括：

1. **CVE-2025-43697**：若未启用"Extract"和"Turbo Extract数据映射器"的字段级安全检查，将绕过"查看加密数据"权限验证，导致加密字段明文泄露。

2. **CVE-2025-43698**：SOQL数据源在获取数据时会绕过所有字段级安全控制，可能导致敏感信息被未授权访问。

3. **CVE-2025-43699**（CVSS评分5.3）：FlexCard未强制执行OmniUlCard对象的"必需权限"字段，这可能导致权限控制失效。

4. **CVE-2025-43700**（CVSS评分7.5）：FlexCard未验证"查看加密数据"权限，直接返回经典加密字段的明文值，严重威胁数据保密性。

5. **CVE-2025-43701**（CVSS评分7.5）：FlexCard允许访客用户访问自定义设置值，可能导致配置信息泄露。

此外，安全研究员Tobia Righi（代号MasterSplinter）还披露了一项未分配CVE编号的SOQL注入漏洞。该零日漏洞存在于所有Salesforce部署的默认Aura控制器中，攻击者可通过操控"contentDocumentId"参数注入恶意SOQL语句，窃取敏感用户数据。

### 3. 潜在影响

如果这些配置问题未得到修复，攻击者可能：
- 访问加密的员工与客户机密数据
- 获取用户交互会话记录
- 窃取Salesforce及其他系统的凭证
- 访问企业核心业务逻辑

特别是结合公开的ID暴力破解脚本（利用Salesforce ID的可预测性），攻击者还能获取非公开文档信息，大幅扩大攻击面。

### 4. 修复情况

目前，Salesforce已采取以下措施：
- 直接修复了3项缺陷
- 为另外2项发布了配置指南
- 其余16项需客户自行修复

其中，CVE-2025-43967和CVE-2025-43698已通过新增的"EnforceDMFLSAndDataEncryption"安全设置得到修复，客户启用后能确保仅具有相应权限的用户可查看数据映射器返回的明文数据。

### 5. 责任界定争议

值得注意的是，Salesforce发言人回应称，多数问题"源于客户配置问题"，而非应用固有漏洞。这种表述暗示安全责任主要在客户方面，与AppOmni的警告相呼应："由于安全配置责任在客户方，单点配置失误可能导致数千条记录泄露，且供应商不承担责任。"

这反映了云服务安全中常见的"共享责任模型"争议，即平台提供商与客户之间对安全责任界定不清可能导致的安全盲区。

## 三、对中国的影响分析

### 1. 中国企业使用Salesforce情况

虽然相比北美市场，Salesforce在中国的市场渗透率较低，但随着中国企业数字化转型加速，越来越多的中国跨国企业、合资企业以及需要全球业务协同的企业开始采用Salesforce等国际主流CRM系统。主要集中在以下几类企业：

- 在华跨国公司及其合资企业
- 有国际业务的中国企业
- 金融、医疗、制造等对客户关系管理要求较高的行业

### 2. 合规风险增加

对于使用Salesforce行业云的中国企业，这些安全漏洞可能带来以下合规风险：

- **个人信息保护法合规挑战**：如果客户个人信息因配置不当而泄露，企业将面临严格的法律责任
- **数据安全法风险**：若重要数据或核心数据被未授权访问，可能违反数据分类分级保护要求
- **行业监管压力**：金融、医疗等受监管行业面临的合规要求更为严格，数据泄露后果更为严重
- **跨境数据传输问题**：如配置不当导致数据保护机制失效，可能违反跨境数据传输相关规定

### 3. 供应链安全隐患

此次事件还暴露了企业IT供应链中的潜在风险：

- 企业可能缺乏对SaaS平台安全配置的专业评估能力
- 安全责任不明确可能导致重要防护措施被忽视
- 对国际软件供应商的安全审计能力有限
- "低代码"平台简化开发的同时也降低了安全门槛，可能引入更多安全问题

### 4. 技术主权思考

此类事件也引发对技术主权的思考：

- 核心业务系统依赖国外厂商带来的安全自主可控挑战
- 在国家强调"安全可控"的背景下，关键信息基础设施对国外SaaS平台的依赖程度需重新评估
- 加速国产替代方案发展的必要性增强

## 四、应对策略

### 1. 企业层面应对措施

对于已使用Salesforce行业云的中国企业，建议采取以下措施：

- **立即检查配置**：对照Salesforce发布的安全公告，检查并修正所有涉及的配置项
- **启用安全设置**：特别是新增的"EnforceDMFLSAndDataEncryption"安全设置
- **实施最小权限原则**：重新审视用户权限设置，确保每个角色仅拥有必要的最小权限
- **加强安全审计**：定期对Salesforce实例进行安全审计，特别关注数据访问控制和加密设置
- **建立应急响应机制**：制定数据泄露应急预案，明确责任人和处置流程
- **持续监控异常访问**：部署安全监控工具，及时发现异常数据访问行为

### 2. 监管与行业层面建议

从监管和行业角度，可考虑以下措施：

- **完善云服务安全评估机制**：针对国际SaaS平台制定更细化的安全评估标准
- **明确责任划分指南**：出台云服务提供商与企业用户安全责任划分的行业指南
- **促进信息共享**：建立云服务安全漏洞信息共享平台，提高行业整体防御能力
- **加强人才培养**：培养熟悉国际主流SaaS平台安全配置的专业人才

### 3. 技术防护策略

技术层面可采取以下防护措施：

- **实施额外加密层**：对特别敏感的数据实施客户端加密，减少对平台加密机制的单一依赖
- **采用零信任架构**：实施持续验证机制，不仅基于初始认证授权访问
- **部署CASB解决方案**：云访问安全代理可提供额外的可见性和控制层
- **开发API安全网关**：在企业系统与Salesforce之间部署API安全网关，提供额外的访问控制和监控
- **使用数据泄露防护工具**：部署DLP工具监控敏感数据流向

### 4. 长期战略考量

从长远看，企业可考虑以下战略调整：

- **多元化策略**：避免过度依赖单一SaaS供应商，适当采用多厂商策略
- **混合部署模式**：考虑核心数据本地部署，非核心业务使用云服务的混合模式
- **评估国产替代方案**：关注并评估国产CRM及相关解决方案的成熟度
- **加强内部能力建设**：培养团队对云服务安全配置的专业能力，减少对供应商的过度依赖

## 五、结论

Salesforce行业云安全漏洞事件揭示了低代码平台在简化开发的同时可能带来的安全风险，以及云服务"共享责任模型"中责任界定不清导致的安全盲区。这不仅是技术问题，更是治理和合规挑战。

对中国企业而言，此事件提醒我们需要在享受全球领先SaaS平台便利性的同时，加强对安全配置的重视，建立更完善的安全治理机制。特别是在国家数据安全战略日益重要的背景下，企业需要平衡业务便利性与安全自主可控之间的关系。

从更广泛的角度看，这一事件也凸显了在数字化转型过程中，企业需要培养更成熟的云安全能力，监管机构需要建立更有效的云服务安全评估机制，而整个行业需要更清晰的责任划分标准。只有多方共同努力，才能在享受云服务创新价值的同时，有效管控其安全风险。

在未来，随着中国企业数字化程度不断深入，类似的安全挑战将更为普遍。企业需要前瞻性地建立安全治理能力，而不仅仅是被动应对已发现的漏洞。同时，也应鼓励国内厂商加快核心技术研发，提供更安全可控的替代方案，逐步实现关键信息系统的技术自主。